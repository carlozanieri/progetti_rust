use dioxus::{fullstack::reqwest::Url, prelude::*};
use serde::{Serialize, Deserialize};
use dioxus::prelude::asset;
//use web_sys::Url;
use crate::document::eval;
//use web_sys::console::count;

#[cfg(not(target_arch = "wasm32"))]
use sqlx::{PgPool, FromRow}; // Cambiato da SqlitePool a PgPool
#[derive(Debug, Clone, Routable, PartialEq)]
#[rustfmt::skip]
enum Route {
    #[layout(Navbar)]
    #[route("/")]
    Home {},
    #[route("/casabaldini/")]
    Casabaldini{},
    #[route("/blog/:id")]
    Blog { id: i32 },

}

const FAVICON: Asset = asset!("/assets/favicon.ico");
const MAIN_CSS: Asset = asset!("/assets/main.css");
const SLIDERMIN_CSS: Asset = asset!("/assets/home/dist/css/slider-pro.min.css");
const SLIDER_CSS: Asset = asset!("/assets/home/dist/css/slider-pro.css");
const EXAMPLE_CSS: Asset = asset!("/assets/home/dist/css/examples.css");
const MENU_CSS: Asset = asset!("/assets/menu_6/css/default.css");
const HEADER_SVG: Asset = asset!("/assets/img/index/cafaggiolo.jpg");
const TAILWIND_CSS: Asset = asset!("/assets/tailwind.css");
const LAGO_IMG: Asset = asset!("/assets/img/index/lago.jpg");
const JQUERY_JS: Asset = asset!("/assets/home/dist/js/jquery.sliderPro.min.js");
//const MIO_JS: Asset = asset!("/assets/home/dist/js/mio.js");
const DB_URL: &str = "postgres://carlo:treX39@57.131.31.228:5432/casabaldini";

#[derive(Clone, Debug, PartialEq, Serialize, Deserialize)] 
// Questa riga dice: aggiungi FromRow solo se NON siamo su WASM
#[cfg_attr(not(target_arch = "wasm32"), derive(sqlx::FromRow))]
pub struct Slider {
    pub id: i64,
    pub img: String,
    pub titolo: String,
    pub testo: String,
    pub caption: String,
}
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    
	<!--FontAwesome-->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <!--[if IE 7]>
    <link rel="stylesheet" href="font-awesome/css/font-awesome-ie7.min.css">
    <![endif]-->
	
	<!--CSS Style-->
    <link href="/static/Ace-Menu/css/demo.css" rel="stylesheet" type="text/css" />
    <link href="/static/Ace-Menu/css/ace-responsive-menu.css" rel="stylesheet" type="text/css" />
</head>
<body>
     <div class="demo">    
	    
            <!-- Menu Toggle btn
             <span class="menu-toggle"> <h3 style="position: absolute;  top:-10px;left:0;" >Menu</h3> </span>-->
            <div class="menu-toggle" style=" position: absolute;  top:-20px; "  >
               
                <button  type="button" id="menu-btn">
                    <span  class="icon-bar"></span> 
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                
            </div>
            <!-- Responsive Menu Structure-->
            <!--Note: declare the Menu style in the data-menu-style="horizontal" (options: horizontal, vertical, accordion) -->
            <ul id="respMenu" class="ace-responsive-menu" data-menu-style="horizontal">
             
                {% for menuwebs in menu %}
                <li>
                    <a href="javascript:;">
                       <span class="title">{{menuwebs.titolo}} </span>
                        <span class="arrow"></span>
 		            </a>
                    <ul>
                        {% for submenu in submenu %} 
                            {% if menuwebs.codice == submenu.radice %}
                                 <li>
                                 <a href="{{submenu.link}}" >{{submenu.titolo}}</a>
                                 </a>                            
                                </li>
                            {% endif %}
                        {% endfor %} 
                    </ul>
                   
                </li>
                {% endfor %}   
            </ul>
               
        
        <!-- End of Responsive Menu -->
    </div>
    
    <!--Scripts-->
    <script src="/static/Ace-Menu/js/jquery-1.10.1.min.js" type="text/javascript"></script>
    <script src="/static/Ace-Menu/js/ace-responsive-menu.js" type="text/javascript"></script>
	
	<!--Plugin Initialization-->
    <script type="text/javascript">
         $(document).ready(function () {
             $("#respMenu").aceResponsiveMenu({
                 resizeWidth: '768', // Set the same in Media query       
                 animationSpeed: 'fast', //slow, medium, fast
                 accoridonExpAll: false //Expands all the accordion menu on click
             });
         });
	</script>


</body>
</html>
